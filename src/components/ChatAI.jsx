import React, { useState } from 'react'; function ChatAI() { const [input, setInput] = useState(''); const [messages, setMessages] = useState([]); const sendMessage = async () => { if (!input) return; const newMessages = [...messages, { sender: 'user', text: input }]; setMessages(newMessages); setInput(''); try { const res = await fetch('https://api.openai.com/v1/chat/completions', { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${import.meta.env.VITE_OPENAI_API_KEY}` }, body: JSON.stringify({ model: "gpt-3.5-turbo", messages: [{ role: "user", content: input }] }) }); const data = await res.json(); const aiMessage = data.choices[0].message.content; setMessages([...newMessages, { sender: 'ai', text: aiMessage }]); } catch (err) { console.error(err); } }; return (<div className="bg-white/10 p-6 rounded-xl shadow-xl backdrop-blur-md space-y-4"><h2 className="text-2xl font-bold">Chat AI</h2><div className="max-h-64 overflow-y-auto space-y-2">{messages.map((msg, idx) => (<div key={idx} className={`p-2 rounded-md ${msg.sender==='user'?'bg-blue-500/30 text-white self-end':'bg-purple-600/30 text-white self-start'}`}>{msg.text}</div>))}</div><div className="flex space-x-2"><input value={input} onChange={(e)=>setInput(e.target.value)} placeholder="Ketik pesan..." className="flex-1 p-2 rounded-md bg-white/20 placeholder-white/70 text-white outline-none"/><button onClick={sendMessage} className="bg-gradient-to-r from-pink-500 to-yellow-400 px-4 py-2 rounded-md font-bold">Send</button></div></div>); } export default ChatAI;